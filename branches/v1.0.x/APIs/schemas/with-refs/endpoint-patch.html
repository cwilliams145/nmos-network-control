---
layout: default
title: Schema endpoint-patch.json
---

<html>
<meta charset="UTF-8">
<h2>Schema endpoint-patch.json</h2>
<p>
    <a href="../../schemas/resolved/endpoint-patch.html">Resolve referenced schemas (may reorder keys)</a>
</p>
<div id="json-render">
<script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
<link rel="stylesheet" href="codemirror/lib/codemirror.css">
<link rel="stylesheet" href="codemirror/addon/fold/foldgutter.css">
<script src="codemirror/mode/javascript/javascript.js"></script>
<script src="codemirror/addon/fold/foldcode.js"></script>
<script src="codemirror/addon/fold/foldgutter.js"></script>
<script src="codemirror/addon/fold/brace-fold.js"></script>
<script src="codemirror/addon/fold/indent-fold.js"></script>

<style>
  .CodeMirror {
    border-top: 1px solid black; 
    border-bottom: 1px solid black;
    height: 500px;
  }
</style>

<textarea id="mytextarea">
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Patch request schema for updating an existing endpoint.",
  "title": "Schema to modify an endpoint with new values.",
  "properties": {
    "ip_address": {
      "type": "string",
      "description": "IP address on which the endpoint sends/receives flows. IP address must be unique in the network.",
      "anyOf": [
        {
          "format": "ipv4"
        },
        {
          "format": "ipv6"
        }
      ]
    },
    "attached_network_device": {
      "type": "object",
      "description": "Peer network device (switch) details. This cannot be an endpoint.",
      "required": [
        "chassis_id",
        "port_id"
      ],
      "properties": {
        "chassis_id": {
          "description": "Matches the chassis_id of the peer network device. Where LLDP is implemented on the network device interfaces, the LLDP Chassis ID should match this value.",
          "anyOf": [
            {
              "type": "string",
              "pattern": "^([0-9a-f]{2}-){5}([0-9a-f]{2})$",
              "description": "When the Chassis ID is a MAC address, use this format."
            },
            {
              "type": "string",
              "pattern": "^.+$",
              "description": "When the Chassis ID is anything other than a MAC address, a freeform string may be used."
            }
          ]
        },
        "port_id": {
          "description": "Matches the port_id of the interface on the peer network device to which the endpoint is connected. Where LLDP is implemented on the network device interfaces, the LLDP Port ID should match this value.",
          "anyOf": [
            {
              "type": "string",
              "pattern": "^([0-9a-f]{2}-){5}([0-9a-f]{2})$",
              "description": "When the Chassis ID is a MAC address, use this format."
            },
            {
              "type": "string",
              "pattern": "^.+$",
              "description": "When the Chassis ID is anything other than a MAC address, a freeform string may be used."
            }
          ]
        }
      }
    },
    "max_bandwidth": {
      "type": "string",
      "pattern": "^(0|[1-9][0-9]*)(\\.[0-9]+)?[kMG]bit\\/s$",
      "description": "Maximum bandwidth that the sender is allowed to send, formatted as a number followed by kbit/s, Mbit/s, Gbit/s. NB: Values should be formatted with no fraction component if possible, using the largest unit that allows that."
    },
    "role": {
      "description": "The role of the endpoint as a sender or receiver.",
      "type": "string",
      "enum": [
        "sender",
        "receiver",
        "both"
      ]
    },
    "label": {
      "description": "Freeform string label for the endpoint",
      "type": "string"
    }
  }
}
</textarea>
<script>
window.editor_json = CodeMirror.fromTextArea(mytextarea, {
    mode: {
        name: "javascript",
        json: true
    },
    readOnly: true,
    lineNumbers: true,
    lineWrapping: true,
    extraKeys: {"Ctrl-Q": function(cm){ cm.foldCode(cm.getCursor()); }},
    foldGutter: true,
    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
    foldOptions: {
      widget: (from, to) => {
        var count = undefined;

        // Get open / close token
        var startToken = '{', endToken = '}';
        var prevLine = window.editor_json.getLine(from.line);
        if (prevLine.lastIndexOf('[') > prevLine.lastIndexOf('{')) {
          startToken = '[', endToken = ']';
        }

        // Get json content
        var internal = window.editor_json.getRange(from, to);
        var toParse = startToken + internal + endToken;

        // Get key count
        try {
          var parsed = JSON.parse(toParse);
          count = Object.keys(parsed).length;
        } catch(e) { }

        return count ? `\u21A4${count}\u21A6` : '\u2194';
        }
      }
    }
  );
editor_json.
editor_json.foldCode(CodeMirror.Pos(3, 0));
</script>
</div>
</html>
